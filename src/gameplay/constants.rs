use bevy::prelude::KeyCode;

pub const CAMERA_SPEED: f32 = 10.0;
pub const CAMERA_ROTATION_SPEED: f32 = 0.05;
pub const CAMERA_SCALE: f32 = 0.01;
pub const COLLISION_SNAP_COOLDOWN_TIME: f32 = 5.0; // seconds
pub const SIZE: f32 = 23.0;
pub const ROW_HEIGHT: f32 = 1.5 * SIZE;
pub const EMPTY_PLAYGROUND_ROWS: u8 = 10;
pub const EMPTY_PLAYGROUND_HEIGHT: f32 = ROW_HEIGHT * EMPTY_PLAYGROUND_ROWS as f32;
pub const PROJECTILE_SPEED: f32 = 1000.;
pub const MIN_PROJECTILE_SNAP_VELOCITY: f32 = 10.0;
pub const MIN_PROJECTILE_REVERSE_VELOCITY: f32 = -1.0;
pub const MIN_PROJECTILE_SNAP_DOT: f32 = 0.1;
pub const INNER_RADIUS_COEFF: f32 = 0.866025404; // âˆš3 / 2
pub const BALL_RADIUS: f32 = INNER_RADIUS_COEFF * SIZE;
pub const NEXT_PROJECTILE_SIZE: f32 = 10.0;
pub const NEXT_PROJECTILE_RADIUS: f32 = INNER_RADIUS_COEFF * NEXT_PROJECTILE_SIZE;
pub const BALL_DIAMETER: f32 = BALL_RADIUS * 2.0;
pub const PROJECTILE_SPAWN_BOTTOM: f32 = 40.0;
pub const NEXT_PROJECTILE_SPAWN_BOTTOM: f32 = 20.0;
pub const NEXT_PROJECTILE_SPAWN_SIDE: f32 = 40.0;
pub const PROJECTILE_SHOOT_BOTTOM: f32 = PROJECTILE_SPAWN_BOTTOM + ROW_HEIGHT * 2.0;
pub const GAME_OVER_BOTTOM: f32 = PROJECTILE_SPAWN_BOTTOM + ROW_HEIGHT;
pub const MIN_CLUSTER_SIZE: usize = 3;
pub const CAST_RAY_TRIES: u32 = 10;
pub const CAST_RAY_VELOCITY: f32 = BALL_RADIUS;
pub const CAST_RAY_VELOCITY_TOLERANCE: f32 = 0.1;
pub const CAST_RAY_MAX_TOI: f32 = EMPTY_PLAYGROUND_HEIGHT * 4.0 / CAST_RAY_VELOCITY;
pub const CAST_RAY_BOUNCE_Y_ADD: f32 = BALL_RADIUS / 3.9; // devergence between physics actual result and cast ray bounce point
pub const LINE_WIDTH: f32 = 4.0;
pub const WALL_SIDE_WIDTH: f32 = 10.0;
pub const WALL_SIDE_HEIGHT: f32 = 2500.0;
pub const WALL_TOP_WIDTH: f32 = 400.0;
pub const WALL_TOP_HEIGHT: f32 = 100.0;
pub const MOVE_DOWN_TOLERANCE: f32 = 0.1;
pub const MAX_APPEAR_TIME: f32 = 2.0;
pub const APPEAR_TOLERANCE: f32 = 0.1;
pub const NEIGHBOUR_POSITION_TOLERANCE: f32 = BALL_DIAMETER + BALL_RADIUS / 2.0;
pub const MAGNETIC_DISTANCE_STRONG: f32 = BALL_DIAMETER * 1.1;
pub const MAGNETIC_FACTOR_STRONG: f32 = 1000.0;
pub const MAGNETIC_FACTOR_WEAK: f32 = 500.0;
pub const CLUSTER_CHECK_COOLDOWN_TIME: f32 = 1.0; // seconds
pub const OUT_BALL_GRAVITY: f32 = 1000.0;
pub const FIXED_TIMESTEP: f32 = 0.5;

pub const GRID_BALL_Z_INDEX: f32 = 2.0;
pub const AIM_TARGET_Z_INDEX: f32 = 0.0;
pub const AIM_LINE_Z_INDEX: f32 = 0.0;
pub const LINE_Z_INDEX: f32 = 0.0;
pub const NEXT_PROJECTILE_Z_INDEX: f32 = 1.0;
pub const WALL_Z_INDEX: f32 = 1.0;
pub const OUT_BALL_Z_INDEX: f32 = 3.0;

pub const LOG_KEYCODE_CLUSTER: KeyCode = KeyCode::C;
pub const LOG_KEYCODE_MAGNETIC: KeyCode = KeyCode::M;
pub const LOG_KEYCODE_RESOURCES: KeyCode = KeyCode::B;
